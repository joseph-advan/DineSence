🍽️ DineSence 顧客分析平台
DineSence 是一個基於電腦視覺 (CV) 與大型語言模型 (LLM) 的智慧餐廳顧客行為分析平台。它能夠透過即時鏡頭或離線影片，分析顧客在用餐過程中的情緒、行為與滿意度，並提供數據化的洞察報告與儀表板，幫助餐廳業者優化服務品質與提升顧客體驗。

✨ 主要功能
🟢 即時鏡頭分析：

情緒辨識：透過 OpenAI GPT-4o Vision API 分析顧客的臉部表情（喜歡/中性/討厭）。

行為偵測：偵測顧客的點頭動作（表示滿意）與餐盤剩餘量。

高效能架構：採用多執行緒架構，將影像顯示與耗時分析徹底分離，確保 UI 介面如絲般順滑。

🎞️ 影片離線分析：上傳用餐過程的影片，系統會自動進行抽樣分析，並由 LLM 生成一份詳細的質化摘要報告。

📈 數據儀表板：提供一個模擬的月度營運儀表板，展示新來客數、滿意度、營收分析等關鍵商業智慧 (BI) 指標。

📜 Session 歷史紀錄：每一次的即時分析都會被記錄下來，包含詳細的數據（持續時間、情緒分佈、Token 用量）與 AI 生成的摘要快照，方便日後追蹤與覆盤。

🔐 安全登入：應用程式包含一個登入頁面，確保數據的安全性。

🚀 開始使用
請依照以下步驟在你的本地端電腦上設定並執行此專案。

1. 前置需求
Python 3.8 或更高版本

Git

2. 安裝步驟
第一步：複製 (Clone) 專案

先開好一個空資料夾 在裡面開啟終端機 (Terminal)，並執行以下指令：

git clone [你的專案 Git Repo URL]
cd [專案資料夾名稱]

第二步：建立並啟用虛擬環境 (Virtual Environment)

在專案資料夾中，建立一個獨立的 Python 虛擬環境。這是一個非常重要的好習慣，可以避免套件版本衝突。

# 建立一個名為 venv 的虛擬環境 (執行以下指令)
python -m venv venv

接著，啟用這個虛擬環境：

在 Windows 上:

.\venv\Scripts\activate

在 macOS 或 Linux 上:

source venv/bin/activate

啟用成功後，你的終端機提示字元前面會出現 (venv) 的字樣。

第三步：安裝所有必要的套件

專案所需的所有套件都記錄在 requirements.txt 檔案中。執行以下指令來一次性安裝它們：

pip install -r requirements.txt

第四步：設定環境變數 (.env)

為了保護你的 API 金鑰等敏感資訊，我們使用 .env 檔案來管理它們。

在專案的根目錄下（與 app.py 同一層），手動建立一個名為 .env 的新檔案。

打開 .env 檔案，並貼上以下內容，然後將等號後面的值換成你自己的資訊：

# 你的 OpenAI API 金鑰 (必要)
OPENAI_API_KEY="sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"


重要：.env 檔案已經被設定在 .gitignore 中，所以它絕對不會被上傳到 GitHub，你的金鑰是安全的。

3. 執行應用程式
恭喜，所有設定都完成了！在你的終端機中（請確保 (venv) 虛擬環境是啟用的），執行以下指令：

streamlit run app.py

終端機將會顯示一個本地網址 (通常是 http://localhost:8501)。請將此網址複製到你的瀏覽器中打開。

你會先看到應用程式的登入頁面。

請使用你在 .env 檔案中設定的帳號密碼登入（預設是 admin / admin123）。

登入成功後，你就可以開始使用 DineSence 平台的所有功能了！

📝 額外說明
模型下載：第一次執行即時分析或影片分析時，程式會自動從網路上下載 YOLOv8n 模型 (yolov8n.pt)。這只會發生在第一次，請耐心等待它完成。

攝影機權限：第一次使用「即時鏡頭分析」功能時，你的瀏覽器或作業系統可能會跳出提示，詢問是否允許存取攝影機，請選擇「允許」。